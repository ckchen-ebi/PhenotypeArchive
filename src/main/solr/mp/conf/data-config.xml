<dataConfig>

	<dataSource name="ds1" jndiName="java:comp/env/jdbc/komp2DataSource" />
	<dataSource name="onto" jndiName="java:comp/env/jdbc/ontodbDataSource" />
    

	<document name="komp2_indexing">
		<!-- test MP:0000180 for multipe node_id being linked to this term -->
		<!-- term infos: ID, name, definition -->
		<entity dataSource="onto" name="mp_term_infos"
			query="select term_id, name, definition from mp_term_infos where term_id != 'MP:0000001'">
			<field column="term_id" name="mp_id" />
			<field column="name" name="mp_term" />
			<field column="definition" name="mp_definition" />

			<!-- subset of this MP term: parsed from obo file -->
			<entity dataSource="onto" name="mp_term_subsets"
				query="select subset from mp_term_subsets where term_id='${mp_term_infos.term_id}'">
				<field column="subset" name="ontology_subset" />
			</entity>

			<!-- synonym of this MP term -->
			<entity dataSource="onto" name="mp_synonyms"
				query="select syn_name from mp_synonyms where term_id = '${mp_term_infos.term_id}'">
				<field column="syn_name" name="mp_term_synonym" />
			</entity>

			<!-- GO association of MP term -->
			<entity dataSource="onto" name="mp_dbxrefs"
				query="select xref_id from mp_dbxrefs where term_id='${mp_term_infos.term_id}' and xref_id like 'GO:%'">
				<field column="xref_id" name="go_id" />
			</entity>
		</entity>
	</document>

</dataConfig>
